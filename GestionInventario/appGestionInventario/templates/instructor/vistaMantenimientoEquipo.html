{% extends "index.html" %}
{% block encabezado %}
    {% include "encabezado.html" %}
{%endblock %}
{% block menu %}
    {% include "instructor/menu.html" %}
{%endblock %}
{% block contenido %}
    <br> 
    <div class="w-75" style="margin-bottom: 7rem;">
        <h3 class="text-center fw-bold">HISTORIAL DE MANTENIMIENTOS POR EQUIPO</h3>       
        <div class="row"> 
            <div class="mb-3 col-lg-4">                    
                <label for="txtNombre" class="fw-bold">Nombre Equipo:</label>
                <input type="text" name="txtNombre" id="txtNombre" class="form-control" value="{{devolutivo.devElemento.eleNombre}}" 
                readonly="readonly">
            </div>  
            <div class="mb-3 col-lg-4">    
                <label for="txtPlacaSena" class="fw-bold">Placa SENA:</label>                            
                <input type="text" name="txtPlacaSena" id="txtPlacaSena" class="form-control" value="{{devolutivo.devPlacaSena}}"  readonly="readonly">         
            </div> 
            <div class="mb-3 col-lg-4"> 
                <label for="txtFabricante" class="fw-bold">Fabricante:</label>                    
                <input type="text" name="txtFabricante" id="txtFabricante" class="form-control" value="{{devolutivo.devMarca}}"  readonly="readonly">    
            </div> 
        </div>
        <div class="row"> 
            <div class="mb-3 col-lg-12">   
                <label for="txtDescripcion" class="fw-bold">Descripción y/o Características:</label>                
                <textarea  name="txtDescripcion" id="txtDescripcion"  rows="3" class="form-control w-100"  readonly="readonly">{{devolutivo.devDescripcion}}</textarea>
            </div>  
        </div>
        
        <div class="table-responsive" style="margin: 0 auto">       
            <table id="tblMantenimientos" class="mt-3 table table-bordered">
                <thead>
                    <tr class="text-center verdeSena text-white">
                        <th>Fecha</th>           
                        <th>Tipo</th>                   
                        <th>Observaciones</th>   
                        <th>Instructor Responsable</th>                   
                        <th>Apoyado Por</th>
                    </tr>
                </thead>
                <tbody>
                    {% for mantenimiento in listaMantenimientos %}
                        <tr>
                            <td>{{mantenimiento.manFechaMantenimiento}}</td>
                            <td>{{mantenimiento.manTipo}}</td>                        
                            <td>{{mantenimiento.manObservaciones}}</td>
                            <td>{{mantenimiento.manUsuario.first_name}}</td>                       
                            <td>{{mantenimiento.manRealizadoPor}}</td>
                            
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    
        <script>
            let valor = 'Historial Mantenimientos {{devolutivo.devElemento.eleNombre}}\nPlaca SENA: {{devolutivo.devPlacaSena}}';
            cargarDataTable( $("#tblMantenimientos"), valor ,5)
        </script>

    </div>
    <br>
    
{%endblock %}
{% block piePagina %}
    {% include "piePagina.html" %}
{%endblock %}